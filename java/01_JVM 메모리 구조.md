## 1. JVM(Java Virtual Machine)이란?
JVM은 운영체제 위에서 실행되어 자바 프로그램이 운영체제에 종속적이지 않고 실행될 수 있도록 한다. 따라서 JVM이 설치되어 있는 컴퓨터라면 운영체제에 상관없이 자바 프로그램을 실행할 수 있다.
- JVM은 운영체제에 종속적이므로 운영체제마다 다른 JVM을 설치해야 한다.
- 자바 프로그램은 운영체제에 종속적이지 않다. JVM만 설치되어 있다면 운영체제 상관없이 실행할 수 있다.

## 2. 자바 프로그램 실행 과정
<img width="723" alt="스크린샷 2025-01-20 오후 3 35 21" src="https://github.com/user-attachments/assets/acdcf421-4728-4605-949b-1f1105f6b121" />

1. JVM은 프로그램 실행에 필요한 메모리 공간을 OS로부터 받아온다.
2. 자바 컴파일러(javac)는 자바 소스코드(.java)를 바이트 코드(.class)로 변환한다.
3. JVM 클래스 로더(Class Loader)는 바이트 코드를 JVM으로 로딩한다.
4. JVM 실행 엔진(Execution Engine)은 자바 인터프리터(interpreter)를 사용하여 바이트 코드를 해석하여 기계어로 변환한다. CPU는 기계어만 이해할 수 있으므로 변환 과정이 필요하다.

자바는 속도가 느리다는 단점이 있는데, 그 이유는 프로그램을 실행하기 위해 바이트 코드를 기계어로 변환하는 과정이 발생하기 때문이다.
> 바이트코드는 JVM(Java Virtual Machine)이 이해할 수 있는 언어이다.

## 3. JVM Runtime Data Area
Runtime Data Area는 JVM이 자바 프로그램을 실행하면서 사용한 데이터를 저장하는 공간이다. 즉, JVM의 메모리 영역이다.
- Method Area
- Heap
- Stack
- PC Register
- Native Method Stack
### 3-1. Method Area
- 클래스의 Metadata (클래스 이름, 부모 클래스 이름, 필드 및 메서드)
- 정적 변수
- 상수 풀(Constant Pool)
### 3-2. Heap
- 동적으로 생성된 객체와 배열
- JVM GC(Garbage Collector)로부터 사용되지 않는 객체를 메모리에서 해제한다.
### 3-3. Stack
- 메서드를 호출하면 스택 프레임이 생성된다. 스택 프레임에는 매개 변수, 지역 변수 그리고 함수 복귀 주소가 포함된다.
- 각 스레드는 독립된 Stack 영역을 갖는다. 스레드 또한 프로세스 내에서 실행 단위이기 때문이다.
### 3-4. PC Register
- 현재 실행 중인 명령어 주소를 가리킨다.
### 3-5. Native Method Stack
- java가 아닌 네이티브 코드(C/C++)를 실행하는 데 도움을 준다.

## 4. 자바는 하이브리드 언어이다.
자바 프로그램을 JVM에서 실행하기 위해 (1)자바 컴파일러(javac)가 소스 코드(.java)를 바이트 코드(.class)로 변환하고, (2)자바 인터프리터가 바이트 코드를 한 줄씩 해석하며 실행한다. 
1. JVM에서 자바 프로그램을 실행하기 위해 자바 소스 코드를 바이트 코드로 변환한다.
2. JVM 클래스 로더는 바이트 코드를 JVM으로 로딩한다.
3. JVM 실행 엔진은 자바 인터프리터를 통해 바이트 코드를 한 줄씩 기계어로 해석하여 실행한다.

## 5. 실행 엔진(Execution Engine)에 JIT(Just-In Time Compiler) 컴파일러가 도입되면서 자바 성능이 향상되었다.
JIT 컴파일러가 존재하기 전에는 자바 인터프리터를 통해 바이트코드를 기계어로 해석하는 과정이 필요했다. 같은 코드를 반복하여 실행하더라도 매번 해석하는 과정이 발생하므로 비효율이 발생한다.

이러한 비효율을 개선하기 위해서 JIT 컴파일러가 도입되었다. JIT 컴파일러는 자주 사용되는 코드의 바이트코드를 기계어로 변환하고 이를 캐싱해둔다. 따라서 앞으로 실행할 때마다 바이트코드를 해석하는 과정 없이 바로 기계어를 실행할 수 있다. 이는 자바 인터프리터를 통해 바이트 코드를 기계어로 해석하는 과정이 발생하지 않으므로 실행 속도가 개선된다.
- 인터프리터 : 바이트 코드를 한 줄씩 해석한다.
- JIT 컴파일러 : 자주 실행되는 코드를 기계어로 번역 후 캐싱해둔다.
 
## 6. JVM GC(Garbage Collector) 덕분에 메모리를 직접 관리할 필요가 없다.
자바 프로그램을 실행하면 JVM Heap 영역에 동적으로 생성된 객체와 배열이 저장된다. C/C++의 경우 사용한 객체를 메모리에서 해제하기 위해 명시적으로 free()를 호출해야 한다. 반면에 자바는 new 키워드를 통해 생성한 객체를 사용하지 않을 때 메모리에서 직접 해제할 필요가 없다. 사용하지 않는 객체는 GC에 의해 자동으로 Heap 영역에서 메모리가 해제된다. 

## 7. 자바의 장단점
- 장점
  - JVM을 통해 자바 프로그램이 실행되므로 자바는 운영체제에 종속적이지 않다.
  - 개발자가 사용하지 않는 객체를 직접 메모리에서 해제할 필요가 없다. JVM의 GC(Garbage Collector)에 의해 사용되지 않는 객체는 자동으로 Heap 영역에서 해제된다.
- 단점
  - 자바 프로그램을 실행하기 위해 바이트코드를 기계어로 변환하는 과정이 필요하므로 실행 속도가 느리다.
    - JVM 실행 엔진(Execution Engine)에 JIT 컴파일러가 도입되면서 이 문제를 해결하였다.
