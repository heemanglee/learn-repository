## 1. NAT(Network Address Translation, λ„¤νΈμ›ν¬ μ£Όμ† λ³€ν™)
NAT(Network Address Translation)μ€ μ‚¬μ„¤ IP μ£Όμ†(Private IP)λ¥Ό κ³µμΈ IP μ£Όμ†(Public IP)λ΅ λ³€ν™ν•μ—¬ μΈν„°λ„·κ³Ό ν†µμ‹ ν•  μ μλ„λ΅ ν•λ‹¤. NATκ°€ μ‚¬μ©λλ” μ΄μ λ” IPv4 μ£Όμ† λ¶€μ΅± λ¬Έμ λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ μ‚¬μ©λλ‹¤.
- μ‚¬μ„¤ IP(Private IP) : λ‚΄λ¶€ λ„¤νΈμ›ν¬μ—μ„λ§ μ‚¬μ© 
- κ³µμΈ IP(Public IP ) : μΈν„°λ„·μ—μ„ κ³ μ ν•κ² μ‚¬μ©

μ§‘μ΄λ‚ μΉ΄νμ— μ„¤μΉλ κ³µμ κΈ°λ΅λ¶€ν„° WIFIλ¥Ό μ—°κ²°ν•μ—¬ μΈν„°λ„·μ„ μ‚¬μ©ν•  μ μλ‹¤. κ³µμ κΈ°λ” DHCP μ„λ²„ μ—­ν• μ„ ν•λ―€λ΅, WIFIμ— μ—°κ²°λ μ¥μΉλ“¤μ—κ² λ™μ μΌλ΅ μ‚¬μ„¤ IPλ¥Ό ν• λ‹Ήν•λ‹¤. μ—¬λ¬ κ°μ μ¥μΉκ°€ λ™μΌν• WIFIμ— μ—°κ²°ν•λ‹¤λ©΄ κ° μ¥μΉμ—κ² ν• λ‹Ήλλ” μ‚¬μ„¤ IP μ£Όμ†κ°€ λ‹¤λ¥΄λ‹¤. κ° μ¥μΉλ” κ³µμ κΈ°κ°€ μ†ν• λ„¤νΈμ›ν¬ λ€μ—­ λ²”μ„ λ‚΄μ—μ„ μ‚¬μ„¤ IP μ£Όμ†λ¥Ό ν• λ‹Ήλ°›μ•„ μ‚¬μ©ν•κ² λλ‹¤.

- λ„¤νΈμ›ν¬ λ€μ—­ : 192.168.1.0/24 (192.168.1.1 ~ 192.168.1.254)

| μ¥μΉ       | μ‚¬μ„¤ IP μ£Όμ† (DHCPμ—μ„ ν• λ‹Ή) |
|-----------|---------------------------|
| μΉ΄ν κ³µμ κΈ° | 192.168.1.1 (κ³ μ •)       |
| λ…ΈνΈλ¶     | 192.168.1.100 (λ™μ  ν• λ‹Ή) |
| ν΄λ€ν°     | 192.168.1.101 (λ™μ  ν• λ‹Ή) |

NATμ€ λ‚΄λ¶€ λ„¤νΈμ›ν¬μ μ‚¬μ„¤ IP μ£Όμ†λ¥Ό κ³µμΈ IP μ£Όμ†λ΅ λ³€ν™ν•μ—¬ μ™Έλ¶€ μΈν„°λ„·κ³Ό ν†µμ‹ ν•  μ μλ„λ΅ ν•λ‹¤. λν•, μΈν„°λ„·μ—μ„ μ‘λ‹µμ΄ μ¤λ©΄ NATμ— μν•΄ λ‹¤μ‹ μ›λμ μ‚¬μ„¤ IP μ£Όμ†λ΅ λ³€ν™λμ–΄ λ‚΄λ¶€ λ„¤νΈμ›ν¬μ— μ „λ‹¬ν•λ” μ—­ν• λ„ μν–‰ν•λ‹¤.

λ§¥λ¶ μ‚¬μ©μλ” μ—°κ²°λ WIFI μƒμ„Έ μ •λ³΄λ¥Ό ν΄λ¦­ν•μ—¬ κ³µμ κΈ°(DHCP μ„λ²„)λ΅λ¶€ν„° ν• λ‹Ήλ°›μ€ μ‚¬μ„¤ IP μ£Όμ†λ¥Ό ν™•μΈν•  μ μλ‹¤. λν•, λ‹¤λ¥Έ μ¥μΉλ΅ λ™μΌν• WIFIμ— μ—°κ²°ν–μ„ λ• ν• λ‹Ήλ°›μ€ μ‚¬μ„¤ IP μ£Όμ†κ°€ λ‹¤λ¥Έ κ²ƒλ„ ν™•μΈν•  μ μλ‹¤.
<img width="701" alt="image" src="https://github.com/user-attachments/assets/38b08ef2-00a4-4d41-b14a-44dbcbc4499f" />

---

## 2. NATλ§ λ‹¨λ…μΌλ΅ μ‚¬μ©ν•λ” κ²ƒμ΄ μ•„λ‹ PAT(Port Address Translation)μ„ κ°™μ΄ μ‚¬μ©ν•λ‹¤.
NATκ°€ μ‚¬μ„¤ IP μ£Όμ†λ¥Ό κ³µμΈ IP μ£Όμ†λ΅ λ³€ν™ν•λ” κ²ƒμ„ μ•μ•λ‹¤. κ·Έλ¬λ‚ NATλ§ μ‚¬μ©ν•΄μ„λ” IPv4 μ£Όμ† μ²΄κ³„μ—μ„ μ£Όμ† λ¶€μ΅± λ¬Έμ λ¥Ό ν•΄κ²°ν•  μ μ—†λ‹¤. NATμ€ κΈ°λ³Έμ μΌλ΅ μ‚¬μ„¤ IPλ¥Ό κ³µμΈ IPλ΅ λ³€ν™ν•μ§€λ§, ν•λ‚μ κ³µμΈ IPλ¥Ό μ—¬λ¬ μ¥μΉκ°€ κ³µμ ν•  μλ” μ—†λ‹¤. μ΄ λ¬Έμ λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ Port λ²νΈλ¥Ό μ‚¬μ©ν•΄ κ³µμΈ IPλ¥Ό μ‚¬μ©ν•λ” μ—¬λ¬ μ¥μΉλ¥Ό μ‹λ³„ν•λ” PAT(Port Address Translation)μ΄ ν•„μ”ν•λ‹¤.

PATμ€ λ‚΄λ¶€ λ„¤νΈμ›ν¬μ μ—¬λ¬ μ¥μΉκ°€ κ°™μ€ κ³µμΈ IPλ¥Ό κ³µμ ν•λ”λΌλ„, κ° μ¥μΉμ μ”μ²­μ„ μ‹λ³„ν•  μ μλ„λ΅ μ¶λ°μ§€ Port λ²νΈλ¥Ό λ³€ν™ν•μ—¬ μ‹λ³„ν•λ‹¤.

| μ¥μΉ       | μ‚¬μ„¤ IP         |μ¶λ°μ§€ Port  | κ³µμΈ IP       | PATμ— μν•΄ λ³€ν™λ μ¶λ°μ§€ Port  |
|----------|-------------------------|-------------|--------------|----------------------------|
| λ…ΈνΈλ¶     | 192.168.1.100 (λ™μ  ν• λ‹Ή) | 50000       | 203.0.113.25 | 30000
| ν΄λ€ν°     | 192.168.1.101 (λ™μ  ν• λ‹Ή) | 50000       | 203.0.113.25 | 30001

λ…ΈνΈλ¶κ³Ό ν΄λ€ν°μ΄ μ‚¬μ©ν•λ” κ³µμΈ IPκ°€ λ™μΌν•μ§€λ§, PATμ— μν•΄ μ¶λ°μ§€ Port λ²νΈκ°€ λ³€κ²½λμ–΄ μ‹λ³„μ΄ κ°€λ¥ν•λ‹¤. PAT λ•λ¶„μ— μ—¬λ¬ κ°μ μ¥μΉκ°€ ν•λ‚μ κ³µμΈ IPλ¥Ό μ‚¬μ©ν• μ—¬ μΈν„°λ„·κ³Ό ν†µμ‹ μ΄ κ°€λ¥ν•λ‹¤.

---

## 3. μ†΅μ‹ μ§€ -> μμ‹ μ§€λ΅ ν¨ν‚·μ„ μ „μ†΅ν–μ„ λ•μ κ³Όμ •
> - λ΅μ»½ ν™κ²½(ex. λ…ΈνΈλ¶)μ— ν• λ‹Ήλ μ‚¬μ„¤ IP : 192.168.0.100
> - κ³µμ κΈ°μ— ν• λ‹Ήλ κ³µμΈ IP : 203.0.113.25
> - AWS μ„λ²„μ κ³µμΈ IP : 15.165.20.50

μ„ ν™κ²½μ„ λ°”νƒ•μΌλ΅ ν¨ν‚·μ„ μ „μ†΅ν•λ” κ³Όμ •μ€ λ‹¤μκ³Ό κ°™λ‹¤.
1. λ΅μ»¬ ν™κ²½μ—μ„ AWS μ„λ²„λ΅ μ”μ²­μ„ λ³΄λ‚Έλ‹¤.
  - μ”μ²­ ν¨ν‚·μ μ¶λ°μ§€ IP : 192.168.0.100
  - μ”μ²­ ν¨ν‚·μ μ¶λ°μ§€ Port : 5000
  - μ”μ²­ ν¨ν‚·μ λ©μ μ§€ IP : 15.165.20.50
  - μ”μ²­ ν¨ν‚·μ λ©μ μ§€ Port : 443 (HTTPS)
2. NAT λΌμ°ν„°μ—μ„ μ¶λ°μ§€ IP λ° Port λ³€ν™
  - μ”μ²­ ν¨ν‚·μ μ¶λ°μ§€ IP : 192.168.0.100 -> `203.0.113.25`
  - μ”μ²­ ν¨ν‚·μ μ¶λ°μ§€ Port : 5000 -> `30000`
  - μ”μ²­ ν¨ν‚·μ λ©μ μ§€ IP : 15.165.20.50 (λ³€κ²½ μ—†μ)
  - μ”μ²­ ν¨ν‚·μ λ©μ μ§€ Port : 443 (λ³€κ²½ μ—†μ)
3. AWS μ„λ²„μ—μ„ μ‘λ‹µ ν¨ν‚· μ „μ†΅
  - μ‘λ‹µ ν¨ν‚·μ μ¶λ°μ§€ IP : 15.165.20.50
  - μ‘λ‹µ ν¨ν‚·μ μ¶λ°μ§€ Port : 443
  - μ‘λ‹µ ν¨ν‚·μ λ©μ μ§€ IP : 203.0.113.25
  - μ‘λ‹µ ν¨ν‚·μ λ©μ μ§€ Port : 30000
4. NAT λΌμ°ν„°μ—μ„ λ©μ μ§€ IP λ³€ν™
  - μ‘λ‹µ ν¨ν‚·μ μ¶λ°μ§€ IP : 15.165.20.50 (λ³€κ²½ μ—†μ)
  - μ‘λ‹µ ν¨ν‚·μ μ¶λ°μ§€ Port : 443 (λ³€κ²½ μ—†μ)
  - μ‘λ‹µ ν¨ν‚·μ λ©μ μ§€ IP : 203.0.113.25 -> `192.168.0.100`
  - μ‘λ‹µ ν¨ν‚·μ λ©μ μ§€ Port : 30000 -> `5000`

## π“ 4. NATμ ν•µμ‹¬ κ°λ… μ”μ•½
- μΈν„°λ„· ν™κ²½μ—μ„λ” `κ³µμΈ IP(Public IP)`λ§ μ‚¬μ©λλ―€λ΅, NATκ°€ λ‚΄λ¶€ λ„¤νΈμ›ν¬μ `μ‚¬μ„¤ IP(Private IP)`λ¥Ό `κ³µμΈ IP`λ΅ λ³€ν™ν•΄μ•Ό ν•λ‹¤.
- NAT λΌμ°ν„°λ” λ‹¨μν `IP μ£Όμ†`λ¥Ό λ³€κ²½ν•λ” κ²ƒμ΄ μ•„λ‹λΌ, `Port λ²νΈ`κΉμ§€ λ³€ν™ν•λ” μ—­ν• (PAT)λ„ μν–‰ν•μ—¬ μ—¬λ¬ μ¥μΉκ°€ λ™μ‹μ— μΈν„°λ„·μ„ μ‚¬μ©ν•  μ μλ„λ΅ ν•λ‹¤.
- μΈν„°λ„·μ—μ„ μ‘λ‹µμ΄ μ¬ λ•, NATλ” μ›λ μ‚¬μ„¤ IP λ° Portλ΅ λλλ¦¬λ” κ³Όμ •μ„ μν–‰ν•μ—¬ ν†µμ‹ μ„ μ™„μ„±ν•λ‹¤.
    
