## 1. DNS(Domain Name System)

DNS란 도메인 주소를 IP 주소로 변환하는 과정이다. 도메인 주소는 사람이 이해할 수 있는 주소이고, IP 주소는 컴퓨터가 이해할 수 있는 주소이다. 따라서 웹 사이트에 접속할 때 도메인 주소로 입력했다면 DNS에 의해 IP 주소로 변환하는 과정이 발생한다.

## 2. DNS 동작 과정

![image](https://github.com/user-attachments/assets/cca2d0b8-454a-4543-8527-e6b771e4ae84)

1. 클라이언트(웹 브라우저)가 주소창에 www.google.com 을 입력한다. 클라이언트는 DNS 쿼리를 발생시켜 IP 주소로 변환하는 과정이 발생한다.
2. 가장 먼저 DNS 리졸버에 캐시되어 있는 주소가 있는지 확인한다. 
    1. 캐시되어 있다면 바로 IP 주소를 반환하고 종료한다.
    2. 캐시되어 있지 않다면 재귀적 호출을 시작한다.
3. DNS 리졸버는 루트 네임 서버(Root Name Server)에 요청을 보낸다.
4. 루트 네임 서버는 www.gooogle.com 에서 .com을 관리하는 TLD 네임 서버의 주소를 DNS 리졸버에게 반환한다.
5. DNS 리졸버가 .com TLD 네임 서버에 google.com 도메인의 정보를 요청한다.
6. TLD 네임 서버는 google.com 을 관리하는 권한 네임 서버(Authorative Name Server)의 주소를 DNS 리졸버에게 반환한다.
7. DNS 리졸버가 권한 네임 서버에 www.google.com 의  IP 주소를 요청한다.
8. 권한 네임 서버는 www.google.com 의 실제 IP 주소를 반환한다.
9. DNS 리졸버는 클라이언트에게 최종 IP 주소를 전달한다.

재귀적 호출이 발생할 때마다 각 네임 서버의 주소를 DNS 리졸버에 제공한다. DNS 리졸버는 각 네임 서버에 접근하여 최종적으로 www.google.com 의 실제 IP 주소를 알아낼 수 있다.

- 재귀적 호출 : 루트 네임 서버 → TLD 네임 서버 → 권한 네임 서버

## 3. DNS 캐시의 TTL(Time To Live)

DNS 리졸버는 재귀적 호출(루트 네임 서버 → TLD 네임 서버 → 권한 네임 서버)을 하기 전에 DNS 캐시를 확인한다. DNS 캐시를 사용하는 이유는 DNS 쿼리가 발생할 때마다 재귀적 호출이 발생하는 것을 막아 불필요한 트래픽을 방지하는 것이다.  이때, DNS 캐시에 저장된 정보들의 유효 시간은 권한 네임 서버가 결정하지만, 최종적으로는 DNS 리졸버 또는 클라이언트가 TTL을 조정할 수 있다.

- TTL이 클 때
    - IP 주소 정보가 DNS 캐시에 오랫동안 저장되어 DNS 조회 요청을 줄여 네트워크 트래픽을 줄일 수 있다.
    - 그러나 도메인의 IP 주소가 변경되었을 때 DNS 캐시에 반영되는 속도가 느리다.
- TTL이 작을 때
    - IP 주소가 짧은 시간 동안만 DNS 캐시에 저장되므로, 변경된 IP 주소가 빠르게 반영될 수 있다.
    - 그러나 DNS 캐시에 저장되는 시간이 짧으므로 DNS 조회 요청이 자주 발생하여 네트워크 트래픽이 증가한다.
